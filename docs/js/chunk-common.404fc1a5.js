"use strict";(globalThis["webpackChunkjs_sudoku"]=globalThis["webpackChunkjs_sudoku"]||[]).push([[64],{76948:(t,e,s)=>{s.d(e,{Z:()=>K});var i=s(38761),a=s.n(i);s(69665);class n{on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}off(t,e){this.events[t]&&(this.events[t]=this.events[t].filter((t=>t!==e)))}dispatch(t,e){this.events[t]&&this.events[t].forEach((t=>t(e)))}constructor(){a()(this,"events",void 0),this.events={}}}new n;var l=s(79559),r=s.n(l);class o{static serialize(t){return t.data.map((t=>JSON.stringify(t)))}static deserialize(t,e){return t.clear(),e.forEach((e=>{const s=JSON.parse(e);t.data.push(s)})),t}clear(){this.data.length=0}rollBack(){return 0===this.data.length?null:this.data.pop()}store(t){if(Array.isArray(t)||(t=[t]),0===t.length)return;const e=t.map(r()(o,o,u));this.data.push(e)}get size(){return this.data.length}constructor(){a()(this,"data",void 0),this.data=[]}}function u(t){return JSON.parse(JSON.stringify(t))}var c=s(2655),h=s(83457),v=s(34962),d=s(59835);function g(t,e){const s=parseInt(t);return isNaN(s)?e:s}class f{dispatchUpdate(){this.eventBus.dispatch("update",{time:this.time})}updateTimer(){this.paused||(this.time++,this.dispatchUpdate())}set(t){this.time=g(t,0),this.dispatchUpdate()}start(){(0,d.YP)((()=>v.Z.appVisible),(t=>{t?this.__timer=window.setInterval(this.updateTimer.bind(this),1e3):window.clearInterval(this.__timer)}),{immediate:!0})}constructor(t){a()(this,"time",void 0),a()(this,"paused",void 0),a()(this,"eventBus",void 0),a()(this,"__timer",0),this.eventBus=new n,this.paused=!1,this.time=g(t,0)}}var y=s(31194),p=s(37628),m=s.n(p),x=s(40559),w=s.n(x),S=s(75105),_=s.n(S),E=s(10357),C=s.n(E),Z=s(42768),N=s.n(Z),I=(s(6822),s(11857)),z=s(52333),M=(s(58672),s(98583));class b{static getOptionCount(t){for(var e=0,s=0;s<I.Ju.SIZE;s++)t.get(s)&&e++;return e}static getOptionValues(t){const e=[];for(var s=0;s<I.Ju.SIZE;s++)t.get(s)&&e.push(s+1);return e}getCellWithLeastOptions(){for(var t=I.Ju.SIZE+1,e=null,s=0;s<I.Ju.SIZE;s++)for(var i=0;i<I.Ju.SIZE;i++){if(this.board.getCell(i,s))continue;const a=this.getNotesForCell(i,s),n=b.getOptionCount(a);if(2===n)return[i,s];n<t&&(e=[i,s],t=n)}return e}getNotesForCell(t,e){return this.cellnotes[t+e*I.Ju.SIZE]}setup(){for(var t=0;t<I.Ju.SIZE;t++)for(var e=0;e<I.Ju.SIZE;e++)this.cellnotes.push(r()(b,b,B).call(b,this.board,e,t))}clone(t){const e=new b(t);return e.cellnotes=this.cellnotes.map((t=>t.clone())),e}static fromBoard(t){const e=new b(t);return e.setup(),e}constructor(t){a()(this,"cellnotes",void 0),this.id=z.Z.getId(),this.cellnotes=[],this.board=t}}function B(t,e,s){const i=new M.Z;if(t.getCell(e,s))return i;for(var a=0;a<I.Ju.SIZE;a++){const n=[I.Ju.getRow(e,s),I.Ju.getColumn(e,s),I.Ju.getSquare(e,s)],l=a+1,r=n.reduce(((e,s)=>e&&!I.Vg.includesValue(t,s,l)),!0);i.set(a,r)}return i}var k=s(52048);function J(t){return new Promise((e=>setTimeout((()=>e(t())),0)))}var V=new WeakMap;class L{constructor(){_()(this,V,{writable:!0,value:0})}async getResult(t){var e;return C()(this,V,(e=N()(this,V),e++,e)),N()(this,V)>50?(C()(this,V,0),J(t)):new Promise((e=>e(t())))}}function O(t){return t.find((t=>void 0!==t))}const H=17;async function U(t,e,s){s=!0===s;const i=new k.i(e),a=I.ZP.randomSkeleton(i),n=new P,l=O(await n.getSolutions(a,1,i));if(!l)throw new Error("Error creating new solution");const r=Array(I.Ju.SIZE).fill(null).map(((t,e)=>[...Array(I.Ju.SIZE).keys()].map((t=>[t,e])))).reduce(((t,e)=>t.concat(e)),[]);(0,k.s)(r,i);var o=0;const u=l.duplicate();for(var c=0;c<r.length&&o+H<I.Ju.CELL_COUNT;c++){const[e,a]=r[c],l=u.getCell(e,a);u.setCell(e,a,0);const h=await n.getSolutions(u,2,i,s);if(1!==h.length)u.setCell(e,a,l);else if(o++,o>=t)break}return[l,u,i.seed]}class A extends Error{constructor(t){super(t),this.name="SolutionError"}}var q=new WeakSet,R=new WeakSet,D=new WeakSet;class P{constructor(t){m()(this,D),m()(this,R),m()(this,q),a()(this,"board",void 0),this.id=z.Z.getId(),this.board=t}boardCompare(t,e){const s=I.Ju.CELL_COUNT;for(var i=0;i<s;i++){t.cells.get(i),e.cells.get(i)}return!0}notebookCompare(t,e){const s=I.Ju.CELL_COUNT;for(var i=0;i<s;i++){const s=b.getOptionValues(t.cellnotes[i]),a=b.getOptionValues(e.cellnotes[i]),n=s.reduce(((t,e,s)=>{const i=a[s];return t&&e===i}),!0);if(!n)return!1}return!0}async getSolutions(t,e,s,i,a,n,l,r){n=!1!==n,e=e||1,s=s??new k.i,i=!0===i,l=l??0,r=r||new L;const o=n?t.clone():t,u=n&&a?a.clone(o):b.fromBoard(o);try{while(w()(this,D,F).call(this,u,s));}catch(y){if(y instanceof A)return console.debug(y.message),[];throw y}if(i||o.isFinished())return o.isValid()?[o]:[];const[c,h]=u.getCellWithLeastOptions(),v=u.getNotesForCell(c,h),d=b.getOptionValues(v);for(var g=[],f=0;f<d.length;f++){const t=d[f],a=o.clone(),n=u.clone(a);w()(this,R,T).call(this,n,c,h,t);const v=await r.getResult((()=>this.getSolutions(a,e,s,i,n,!1,l+g.length,r)));if(g=g.concat(v),g.length+l>=e)return g}return g}}function W(t,e,s){if(t.board.getCell(e,s))return!1;const i=t.getNotesForCell(e,s),a=b.getOptionValues(i);if(a.length>1)return!1;if(0===a.length)throw new A(`Cell ${e}, ${s} cannot be filled`);return w()(this,R,T).call(this,t,e,s,a[0]),!0}function T(t,e,s,i){t.board.setCell(e,s,i);const a=[I.Ju.getRow(e,s),I.Ju.getColumn(e,s),I.Ju.getSquare(e,s)];a.forEach((e=>{for(var s=0;s<I.Ju.SIZE;s++){const[a,n]=e.get(s),l=t.getNotesForCell(a,n);l.set(i-1,!1),w()(this,q,W).call(this,t,a,n)}}))}function F(t,e){var s=!1;const i=Array(I.Ju.SIZE).fill(null).map(((e,s)=>[...Array(I.Ju.SIZE).keys()].filter((e=>!t.board.getCell(e,s))).map((t=>[t,s])))).reduce(((t,e)=>t.concat(e)),[]);return(0,k.s)(i,e),i.forEach((([e,i])=>{w()(this,q,W).call(this,t,e,i)&&(s=!0)})),s}const Q=JSON.parse('{"cells":[{"value":9,"x":0,"y":0,"notes":[],"static":true},{"value":1,"x":1,"y":0,"notes":[],"static":true},{"value":5,"x":2,"y":0,"notes":[],"static":true},{"value":7,"x":3,"y":0,"notes":[],"static":true},{"value":2,"x":4,"y":0,"notes":[],"static":true},{"value":4,"x":5,"y":0,"notes":[],"static":true},{"value":6,"x":6,"y":0,"notes":[],"static":true},{"value":3,"x":7,"y":0,"notes":[],"static":true},{"value":8,"x":8,"y":0,"notes":[],"static":true},{"value":3,"x":0,"y":1,"notes":[],"static":true},{"value":4,"x":1,"y":1,"notes":[],"static":true},{"value":7,"x":2,"y":1,"notes":[],"static":true},{"value":8,"x":3,"y":1,"notes":[],"static":true},{"value":6,"x":4,"y":1,"notes":[],"static":true},{"value":5,"x":5,"y":1,"notes":[],"static":true},{"value":9,"x":6,"y":1,"notes":[],"static":true},{"value":2,"x":7,"y":1,"notes":[],"static":true},{"value":1,"x":8,"y":1,"notes":[],"static":true},{"value":2,"x":0,"y":2,"notes":[],"static":true},{"value":0,"x":1,"y":2,"notes":[],"static":false},{"value":0,"x":2,"y":2,"notes":[],"static":false},{"value":3,"x":3,"y":2,"notes":[],"static":true},{"value":9,"x":4,"y":2,"notes":[],"static":true},{"value":1,"x":5,"y":2,"notes":[],"static":true},{"value":0,"x":6,"y":2,"notes":[],"static":false},{"value":4,"x":7,"y":2,"notes":[],"static":true},{"value":7,"x":8,"y":2,"notes":[],"static":true},{"value":5,"x":0,"y":3,"notes":[],"static":true},{"value":8,"x":1,"y":3,"notes":[],"static":true},{"value":4,"x":2,"y":3,"notes":[],"static":true},{"value":2,"x":3,"y":3,"notes":[],"static":true},{"value":7,"x":4,"y":3,"notes":[],"static":true},{"value":3,"x":5,"y":3,"notes":[],"static":true},{"value":1,"x":6,"y":3,"notes":[],"static":true},{"value":0,"x":7,"y":3,"notes":[],"static":false},{"value":9,"x":8,"y":3,"notes":[],"static":true},{"value":6,"x":0,"y":4,"notes":[],"static":true},{"value":2,"x":1,"y":4,"notes":[],"static":true},{"value":1,"x":2,"y":4,"notes":[],"static":true},{"value":5,"x":3,"y":4,"notes":[],"static":true},{"value":4,"x":4,"y":4,"notes":[],"static":true},{"value":9,"x":5,"y":4,"notes":[],"static":true},{"value":7,"x":6,"y":4,"notes":[],"static":true},{"value":8,"x":7,"y":4,"notes":[],"static":true},{"value":3,"x":8,"y":4,"notes":[],"static":true},{"value":0,"x":0,"y":5,"notes":[],"static":false},{"value":0,"x":1,"y":5,"notes":[],"static":false},{"value":9,"x":2,"y":5,"notes":[],"static":true},{"value":1,"x":3,"y":5,"notes":[],"static":true},{"value":0,"x":4,"y":5,"notes":[],"static":false},{"value":6,"x":5,"y":5,"notes":[],"static":true},{"value":2,"x":6,"y":5,"notes":[],"static":true},{"value":5,"x":7,"y":5,"notes":[],"static":true},{"value":4,"x":8,"y":5,"notes":[],"static":true},{"value":1,"x":0,"y":6,"notes":[],"static":true},{"value":7,"x":1,"y":6,"notes":[],"static":true},{"value":3,"x":2,"y":6,"notes":[],"static":true},{"value":4,"x":3,"y":6,"notes":[],"static":true},{"value":5,"x":4,"y":6,"notes":[],"static":true},{"value":2,"x":5,"y":6,"notes":[],"static":true},{"value":8,"x":6,"y":6,"notes":[],"static":true},{"value":9,"x":7,"y":6,"notes":[],"static":true},{"value":0,"x":8,"y":6,"notes":[],"static":false},{"value":0,"x":0,"y":7,"notes":[],"static":false},{"value":9,"x":1,"y":7,"notes":[],"static":true},{"value":2,"x":2,"y":7,"notes":[],"static":true},{"value":6,"x":3,"y":7,"notes":[],"static":true},{"value":3,"x":4,"y":7,"notes":[],"static":true},{"value":7,"x":5,"y":7,"notes":[],"static":true},{"value":4,"x":6,"y":7,"notes":[],"static":true},{"value":1,"x":7,"y":7,"notes":[],"static":true},{"value":5,"x":8,"y":7,"notes":[],"static":true},{"value":4,"x":0,"y":8,"notes":[],"static":true},{"value":5,"x":1,"y":8,"notes":[],"static":true},{"value":6,"x":2,"y":8,"notes":[],"static":true},{"value":9,"x":3,"y":8,"notes":[],"static":true},{"value":1,"x":4,"y":8,"notes":[],"static":true},{"value":8,"x":5,"y":8,"notes":[],"static":true},{"value":3,"x":6,"y":8,"notes":[],"static":true},{"value":7,"x":7,"y":8,"notes":[],"static":true},{"value":2,"x":8,"y":8,"notes":[],"static":true}],"seed":1,"solution":[9,1,5,7,2,4,6,3,8,3,4,7,8,6,5,9,2,1,2,6,8,3,9,1,5,4,7,5,8,4,2,7,3,1,6,9,6,2,1,5,4,9,7,8,3,7,3,9,1,8,6,2,5,4,1,7,3,4,5,2,8,9,6,8,9,2,6,3,7,4,1,5,4,5,6,9,1,8,3,7,2],"difficultyLevel":0}');var $=s(26950);class K{static __initSaveManager(t){t.saveManager=new h.Z("game"),t.saveManager.states.push(new h.b("puzzle",(()=>c.ZP.serialize(t.puzzle)),(e=>c.ZP.deserialize(t.puzzle,e)),(()=>{c.ZP.deserialize(t.puzzle,Q)})),new h.b("time",(()=>t.timer.time),(e=>t.timer.set(e)),(()=>t.timer.set(0))),new h.b("hintCount",(()=>t.hintCount),(e=>t.hintCount=e),(()=>t.hintCount=0)),new h.b("memory",(()=>o.serialize(t.memory)),(e=>{o.deserialize(t.memory,e)}),(()=>t.memory.clear())))}__createMemoryState(t,e,{isNote:s,isHint:i}={}){return{cellId:t,value:e,isNote:!0===s,isHint:!0===i}}__saveMemoryState(t,e,{isNote:s,isHint:i}={}){const a=this.__createMemoryState(t,e,{isNote:s,isHint:i});this.__saveMemoryStates([a])}__saveMemoryStates(t){this.memory.store(t)}__updateVictoryState(){const t=this.puzzle.cells.reduce(((t,e,s)=>t&&this.puzzle.solution[s]===e.value),!0);return!!t&&(this.eventBus.dispatch("victory",{}),!0)}__ensureCanEditCell(t){return t?!t.isStatic||(this.__dispatchError("Cannot edit this cell."),!1):(this.__dispatchError("No cell selected."),!1)}__dispatchError(t){this.eventBus.dispatch("error",{message:t})}placeNum(t,e,{isHint:s=!1}={}){const i=this.puzzle.findCellById(t);if(this.__ensureCanEditCell(i)){if(i.value===e)this.__saveMemoryState(t,i.value,{isNote:!1,isHint:s}),i.value=0;else{const n=this.__createMemoryState(t,i.value,{isNote:!1,isHint:s});var a=[n];if(i.value=e,this.settings.autoRemoveNotes){const t=c.ZP.getSurroundingCells(this.puzzle,i).filter((t=>!t.hasValue()&&t.notes.hasValue(e))),s=t.map((t=>this.__createMemoryState(t.id,[...t.notes.values],{isNote:!0,isHint:!1})));a=a.concat(s),t.forEach((t=>t.notes.removeValue(e)))}if(this.__saveMemoryStates(a),s&&this.hintCount++,this.__updateVictoryState())return}this.saveManager.save()}}placeNote(t,e){const s=this.puzzle.findCellById(t);this.__ensureCanEditCell(s)&&(s.hasValue()?this.__dispatchError("Cell already has a value."):(this.__saveMemoryState(t,s.notes.values,{isNote:!0,isHint:!1}),s.notes.swapValue(e),this.saveManager.save()))}clearCell(t){const e=this.puzzle.findCellById(t);this.__ensureCanEditCell(e)&&(e.hasValue()||e.notes.values.length)&&(e.hasValue()?(this.__saveMemoryState(t,e.value,{isNote:!1,isHint:!1}),e.value=0):(this.__saveMemoryState(t,e.notes.values,{isNote:!0,isHint:!1}),e.notes.clear()),this.saveManager.save())}undo(){if(!this.memory.size)return;const t=this.memory.rollBack();t.forEach((t=>{const e=this.puzzle.findCellById(t.cellId),s=t.value;switch(t.isNote){case!1:e.value=s;break;case!0:e.notes.set(s);break}t.isHint&&this.hintCount--})),this.saveManager.save()}hint(){const t=this.puzzle.cells.reduce(((t,e)=>{if(e.hasValue())return t;if(t.optionCount<=1)return t;const s=c.ZP.getSurroundingValues(this.puzzle,e),i=I.Ju.SIZE-s.length;return i<t.lowest&&(t.lowest=i,t.cell=e),t}),{lowest:I.Ju.SIZE+1,cell:null}).cell;if(!t)return;const e=this.puzzle.solution[c.ZP.toIndex({position:t.position})];this.placeNum(t.id,e,{isHint:!0})}resetGameState(){this.timer.set(0),this.memory.clear(),this.hintCount=0,this.timer.paused=!1,this.saveManager.save(),this.eventBus.dispatch("start-level",{puzzle:this.puzzle})}resetLevel(){this.puzzle.cells.forEach((t=>{t.isStatic||(t.value=0,t.notes.clear())})),this.resetGameState(),this.saveManager.save()}async newLevel(t,e){$.Z.show({message:"Generating level..."});const s=y.ZP[t]??y.ZP[0],[i,a,n]=await U(s.cells,e,s.logic);c.ZP.fromBoard(this.puzzle,a,i,n),this.puzzle.difficultyLevel=t,this.resetGameState(),this.saveManager.save(),$.Z.hide()}constructor(t){a()(this,"puzzle",void 0),a()(this,"saveManager",void 0),a()(this,"memory",void 0),a()(this,"timer",void 0),a()(this,"hintCount",void 0),a()(this,"eventBus",void 0),this.settings=t,this.eventBus=new n,this.memory=new o,this.timer=new f,this.puzzle=new c.ZP,this.hintCount=0,K.__initSaveManager(this)}}},83457:(t,e,s)=>{s.d(e,{Z:()=>r,b:()=>l});var i=s(38761),a=s.n(i),n=s(63703);class l{constructor(t,e,s,i){a()(this,"getState",void 0),a()(this,"setState",void 0),a()(this,"setDefault",void 0),a()(this,"key",void 0),this.key=t,this.getState=e,this.setState=s,this.setDefault=i}}class r{save(){const t={};this.states.forEach((e=>{const s=e.key,i=e.getState();t[s]=JSON.stringify(i)})),n.Z.set(this.storageKey,t)}load(){const t=n.Z.getItem(this.storageKey)??{};this.states.forEach((e=>{const s=e.key;try{const i=JSON.parse(t[s]);e.setState(i)}catch(i){void 0!==e.setDefault&&e.setDefault()}}))}constructor(t){a()(this,"states",void 0),a()(this,"storageKey",void 0),this.storageKey=t,this.states=[],this.save=this.save.bind(this),this.load=this.load.bind(this)}}},31194:(t,e,s)=>{s.d(e,{ZP:()=>n,ol:()=>r,IJ:()=>o});const i=JSON.parse('{"g":[{"name":"Easier Than Easy","cells":9,"logic":true},{"name":"Easy","cells":16,"logic":true},{"name":"Novice","cells":24,"logic":true},{"name":"Medium","cells":32,"logic":true},{"name":"Intermediate","cells":40,"logic":true},{"name":"Hard","cells":48,"logic":true},{"name":"Difficult","cells":56,"logic":false},{"name":"Expert","cells":64,"logic":true},{"name":"☠️","cells":64,"logic":false}],"C":["yellow","red","blue","purple","black"]}'),a=i.g.map(((t,e)=>(t.level=e,t))),n=a,l=3;function r(t){const e=Math.max(0,Math.min(Math.floor(t/l),i.C.length-1));return i.C[e]}function o(t){return Math.max(0,t%l)+1}},2655:(t,e,s)=>{s.d(e,{ZP:()=>v,bL:()=>c});var i=s(79559),a=s.n(i),n=s(38761),l=s.n(n),r=(s(46727),s(69665),s(6822),s(11857));class o{get x(){return this._x}get y(){return this._y}constructor(t,e){l()(this,"_x",void 0),l()(this,"_y",void 0),this._x=t,this._y=e}}class u{hasValue(t){return this.values.includes(t)}addValue(t){this.hasValue(t)||this.values.push(t)}removeValue(t){const e=this.values.indexOf(t);e<0||this.values.splice(e,1)}swapValue(t){this.hasValue(t)?this.removeValue(t):this.addValue(t)}clear(){this.values.length=0}count(){return this.values.length}set(t){this.values.length=0,t.forEach((t=>this.values.push(t)))}constructor(){l()(this,"values",void 0),this.values=[]}}class c{get position(){return this._position}get isStatic(){return this._isStatic}get row(){return this._row}get column(){return this._column}get square(){return this._square}get id(){return this.position.x+this.position.y*r.Ju.SIZE+1}hasValue(){return this.value>0}constructor(t,e){l()(this,"value",void 0),l()(this,"_position",void 0),l()(this,"_isStatic",void 0),l()(this,"_row",void 0),l()(this,"_column",void 0),l()(this,"_square",void 0),l()(this,"notes",void 0),this._position=t,this.value=e,this.notes=new u,this._isStatic=this.hasValue(),a()(c,c,h).call(c,this)}}function h(t){t._row=r.Ju.rows[t.position.y],t._column=r.Ju.columns[t.position.x],t._square=r.Ju.squares[Math.floor(t.position.x/r.Ju.BASE_NUMBER)+Math.floor(t.position.y/r.Ju.BASE_NUMBER)*r.Ju.BASE_NUMBER]}class v{static serialize(t){const e={cells:t.cells.map((t=>({value:t.value,x:t.position.x,y:t.position.y,notes:t.notes.values,static:t.isStatic}))),seed:t.seed,solution:t.solution,difficultyLevel:t.difficultyLevel};return e}static deserialize(t,e){if(null===e)throw new Error;return t.cells.length=0,t.solution.length=0,t.cells=e.cells.map((t=>{const e=new o(t.x,t.y),s=new c(e,t.static?t.value:0);return t.static||(s.value=t.value),t.notes.forEach((t=>s.notes.addValue(t))),s})),t.seed=e.seed,t.solution=e.solution,t.difficultyLevel=e.difficultyLevel,t}static toIndex({position:t,xy:e,x:s=0,y:i=0}={}){const a=void 0!==t?t.x:void 0!==e?e[0]:s,n=void 0!==t?t.y:void 0!==e?e[1]:i;return a+n*r.Ju.SIZE}static getSurroundingCells(t,e){const s=[e.row,e.column,e.square];return s.map((e=>Array(r.Ju.SIZE).fill(null).map(((s,i)=>t.getCell({xy:e.get(i)}))))).reduce(((t,e)=>t.concat(e)),[]).filter(((t,s,i)=>t.id!==e.id&&i.findIndex((e=>e.id===t.id))===s))}static getSurroundingValues(t,e){return v.getSurroundingCells(t,e).map((t=>t.value)).filter(((t,e,s)=>t>0&&s.indexOf(t)===e))}getCell({position:t,xy:e,x:s=0,y:i=0}={}){const a=v.toIndex({position:t,xy:e,x:s,y:i});return this.cells[a]}getSolutionValue({position:t,xy:e,x:s=0,y:i=0}={}){const a=v.toIndex({position:t,xy:e,x:s,y:i});return this.solution[a]}findCellById(t){if(t)return this.cells.find((e=>e.id===t))}static fromBoard(t,e,s,i){t.cells.length=0,t.solution.length=0,t.seed=i;for(var a=0;a<r.Ju.SIZE;a++)for(var n=0;n<r.Ju.SIZE;n++){const i=s.getCell(a,n),l=e.getCell(a,n),r=new o(a,n),u=v.toIndex({position:r});t.solution[u]=i;const h=new c(r,l);t.cells[u]=h}return t}constructor(){l()(this,"cells",void 0),l()(this,"solution",void 0),l()(this,"difficultyLevel",void 0),this.cells=[],this.solution=[]}}},52048:(t,e,s)=>{s.d(e,{i:()=>v,s:()=>g});var i=s(75105),a=s.n(i),n=s(10357),l=s.n(n),r=s(42768),o=s.n(r);function u(t){return function(){var e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}var c=new WeakMap,h=new WeakMap;class v{get seed(){return o()(this,c)}next(){return o()(this,h).call(this)}constructor(t,e){a()(this,c,{writable:!0,value:void 0}),a()(this,h,{writable:!0,value:void 0}),void 0===t&&(t=Math.floor(4294967296*Math.random())),l()(this,c,t);const s=3735928559*t%4294967296,i=e||u;l()(this,h,i(s))}}function d(t,e,s){const i=t[e];t[e]=t[s],t[s]=i}function g(t,e){for(var s=0;s<t.length;s++){const i=Math.floor(e.next()*t.length);d(t,s,i)}}},11857:(t,e,s)=>{s.d(e,{Ju:()=>_,Vg:()=>y,ZP:()=>N});var i=s(727),a=s.n(i),n=s(75105),l=s.n(n),r=s(10357),o=s.n(r),u=s(42768),c=s.n(u),h=s(38761),v=s.n(h),d=s(52333),g=s(52048),f=s(98583);class y{static getValue(t,e,s){const[i,a]=e.get(s);return t.getCell(i,a)}static setValue(t,e,s,i){const[a,n]=e.get(s);t.setCell(a,n,i)}static isValid(t,e){const s=[];for(var i=0;i<_.SIZE;i++){const a=y.getValue(t,e,i);if(!a)return!1;const n=a-1;if(void 0!==s[n])return!1;s[n]=!0}return!0}static includesValue(t,e,s){for(var i=0;i<_.SIZE;i++){const a=y.getValue(t,e,i);if(a===s)return!0}return!1}get(t){}constructor(t){v()(this,"index",void 0),this.id=d.Z.getId(),this.index=t}}class p extends y{get(t){const e=this.index,s=t;return[e,s]}constructor(t){super(t),v()(this,"type","col"),this.get=this.get.bind(this)}}class m extends y{get(t){const e=t,s=this.index;return[e,s]}constructor(t){super(t),v()(this,"type","row"),this.get=this.get.bind(this)}}var x=new WeakMap,w=new WeakMap;class S extends y{get(t){const e=t%_.BASE_NUMBER,s=Math.floor(t/_.BASE_NUMBER),i=c()(this,x)+e,a=c()(this,w)+s;return[i,a]}constructor(t){super(t),v()(this,"type","square"),l()(this,x,{writable:!0,value:void 0}),l()(this,w,{writable:!0,value:void 0}),o()(this,x,this.index%_.BASE_NUMBER*_.BASE_NUMBER),o()(this,w,Math.floor(this.index/_.BASE_NUMBER)*_.BASE_NUMBER),this.get=this.get.bind(this)}}class _{static get CELL_COUNT(){return _.SIZE*_.SIZE}static get SIZE(){return _.BASE_NUMBER*_.BASE_NUMBER}static get BASE_NUMBER(){return 3}static get rows(){return a()(this,_,E)}static get columns(){return a()(this,_,C)}static get squares(){return a()(this,_,Z)}static getRow(t,e){return _.rows[e]}static getColumn(t,e){return _.columns[t]}static getSquare(t,e){const s=Math.floor(t/_.BASE_NUMBER),i=Math.floor(e/_.BASE_NUMBER),a=s+i*_.BASE_NUMBER;return _.squares[a]}}var E={writable:!0,value:Array(_.SIZE).fill(null).map(((t,e)=>new m(e)))},C={writable:!0,value:Array(_.SIZE).fill(null).map(((t,e)=>new p(e)))},Z={writable:!0,value:Array(_.SIZE).fill(null).map(((t,e)=>new S(e)))};class N{static randomSkeleton(t){const e=new N,s=[0,4,8];for(var i=0;i<s.length;i++){const n=_.squares[s[i]],l=[...Array(_.SIZE).keys()];(0,g.s)(l,t);for(var a=0;a<_.SIZE;a++)y.setValue(e,n,a,l[a])}return e}getCell(t,e){return this.cells.get(t*_.SIZE+e)??0}setCell(t,e,s){return this.cells.set(t*_.SIZE+e,s)}clone(){const t=new N;return t.cells=this.cells.clone(),t}duplicate(){const t=new N;for(var e=0;e<_.CELL_COUNT;e++){const s=this.cells.get(e);t.cells.set(e,s)}return t}import(t){this.cells=t.cells}isFinished(){for(var t=0;t<_.CELL_COUNT;t++)if(!this.cells.get(t))return!1;return!0}isValid(){for(var t=0;t<_.SIZE;t++){const e=[_.rows[t],_.columns[t],_.squares[t]],s=e.reduce(((t,e)=>t&&y.isValid(this,e)),!0);if(!s)return!1}return!0}print(){for(var t=0;t<_.SIZE;t++){_.rows[t];for(var e=t+": ",s=0;s<_.SIZE;s++){const i=this.getCell(s,t).toString();e+=i}console.log(e)}console.log("\n\n")}constructor(){v()(this,"cells",void 0),this.id=d.Z.getId(),this.cells=new f.Z(_.CELL_COUNT)}}},52333:(t,e,s)=>{s.d(e,{Z:()=>r});var i=s(33782),a=s.n(i),n=s(727),l=s.n(n);class r{static getId(){var t;return a()(r,r,o,(t=l()(r,r,o),++t))}}var o={writable:!0,value:0}},98583:(t,e,s)=>{s.d(e,{Z:()=>l});var i=s(38761),a=s.n(i),n=(s(6822),s(52333));class l{get(t){return void 0!==this.data[t]?this.data[t]:this.parent?this.parent.get(t):void 0}set(t,e){if(void 0===e)throw new Error("UNDEF?");this.data[t]=e}clone(){const t=new l(this.size);return t.parent=this,t}constructor(t){a()(this,"parent",void 0),a()(this,"data",void 0),a()(this,"size",void 0),this.id=n.Z.getId(),this.parent=null,this.data=[],this.size=t}}},67843:(t,e,s)=>{s.d(e,{k:()=>o});var i=s(81809),a=s(60499),n=s(76948),l=s(10098);const r=(0,i.Q_)("game",(()=>{const t=(0,l.F)(),e=(0,a.iH)(new n.Z(t));return e.value.saveManager.load(),e.value.timer.start(),{gameState:e}}));function o(){const t=r();return t.gameState}},10098:(t,e,s)=>{s.d(e,{F:()=>o});s(69665);var i=s(81809),a=s(60499),n=s(59835);const l=JSON.parse('{"cb":0,"G1":5,"OD":8}');var r=s(83457);const o=(0,i.Q_)("settings",(()=>{const t={showErrors:(0,a.iH)(!0),showTime:(0,a.iH)(!0),showHints:(0,a.iH)(!0),markImpossibleNumbers:(0,a.iH)(!0),placeNumbersOnSelect:(0,a.iH)(!1),autoRemoveNotes:(0,a.iH)(!0)},e=new r.Z("settings");Object.keys(t).forEach((s=>{e.states.push(new r.b(s,(()=>t[s].value),(e=>t[s].value=e),(()=>{})))})),e.load(),Object.keys(t).forEach((s=>(0,n.YP)(t[s],(()=>e.save()))));const s=`v${l.cb}.${l.G1}.${l.OD}`;return{...t,version:s}}))},57896:(t,e,s)=>{s.d(e,{N:()=>c,f:()=>u});var i=s(38761),a=s.n(i),n=(s(69665),s(81809)),l=s(60499),r=s(59835),o=s(83457);class u{constructor(t){a()(this,"level",void 0),a()(this,"time",void 0),a()(this,"hintCount",void 0),a()(this,"difficultyLevel",void 0),a()(this,"date",void 0),this.level=t.level,this.time=t.time,this.hintCount=t.hintCount,this.difficultyLevel=t.difficultyLevel,this.date=t.date??(new Date).getTime()}}const c=(0,n.Q_)("victory",(()=>{const t=(0,l.iH)([]),e=new o.Z("victories");e.states.push(new o.b("list",(()=>t.value),(e=>t.value=e))),e.load(),(0,r.YP)(t,e.save,{deep:!0});const s=e=>{t.value.splice(0,0,e)};return{victories:t,addVictory:s}}))},28878:(t,e,s)=>{s.d(e,{Z:()=>d});var i=s(59835);const a={style:{display:"flex","flex-direction":"row","align-items":"center"}};function n(t,e,s,n,l,r){const o=(0,i.up)("q-icon");return(0,i.wg)(),(0,i.iD)("div",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.starCount,(e=>((0,i.wg)(),(0,i.j4)(o,{key:e,size:t.size,name:"star",color:t.starColor},null,8,["size","color"])))),128))])}var l=s(31194);const r=(0,i.aZ)({name:"DifficultyRating",props:{level:{type:Number,required:!0},size:{type:String,default:""}},computed:{starCount(){return(0,l.IJ)(this.level)},starColor(){return(0,l.ol)(this.level)}}});var o=s(11639),u=s(22857),c=s(69984),h=s.n(c);const v=(0,o.Z)(r,[["render",n]]),d=v;h()(r,"components",{QIcon:u.Z})},43212:(t,e,s)=>{s.d(e,{Z:()=>_});var i=s(59835),a=s(86970);const n={style:{display:"flex","flex-direction":"row","flex-wrap":"nowrap","align-items":"center",width:"100%",height:"40px","font-size":"1.4em"}};function l(t,e,s,l,r,o){const u=(0,i.up)("q-input"),c=(0,i.up)("q-card-section"),h=(0,i.up)("q-space"),v=(0,i.up)("difficulty-rating"),d=(0,i.up)("q-btn"),g=(0,i.up)("q-card"),f=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.j4)(f,{ref:"dialog",onHide:t.onDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{class:"q-dialog-plugin"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Level "),(0,i.Wm)(u,{modelValue:t.levelNumber,"onUpdate:modelValue":e[0]||(e[0]=e=>t.levelNumber=e),mask:"##########","input-style":"text-align: center; font-size: 2em",rules:[t=>parseInt(t).toString()===t&&parseInt(t)<4294967296]},null,8,["modelValue","rules"])])),_:1}),(0,i.Wm)(c,{class:"text-h6"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Niveau ")])),_:1}),(0,i.Wm)(c,{class:"q-gutter-y-md"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.DifficultieLevels,(e=>((0,i.wg)(),(0,i.j4)(d,{key:e.level,color:"primary",outline:"",size:"md",align:"left",class:"full-width",onClick:()=>t.onOKClick(e)},{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i._)("span",null,(0,a.zw)(e.name),1),(0,i.Wm)(h),(0,i.Wm)(v,{size:"sm",level:e.level},null,8,["level"])])])),_:2},1032,["onClick"])))),128))])),_:1}),(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{label:"Cancel",class:"full-width",color:"negative",onClick:t.onCancelClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}var r=s(60499),o=s(31194),u=s(28878);function c(t,e){const s=parseInt(t);return isNaN(s)?e:s}const h=(0,i.aZ)({components:{DifficultyRating:u.Z},name:"NewLevelDialog",props:{},emits:["ok","hide"],setup(){return{DifficultieLevels:o.ZP,levelNumber:(0,r.iH)(Math.floor(4294967296*Math.random()))}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(t){const e=c(this.levelNumber,Math.floor(4294967296*Math.random()));this.$emit("ok",{difficultyLevel:t.level,seed:e}),this.hide()},onCancelClick(){this.hide()}}});var v=s(11639),d=s(35263),g=s(44458),f=s(63190),y=s(31169),p=s(24455),m=s(90136),x=s(69984),w=s.n(x);const S=(0,v.Z)(h,[["render",l]]),_=S;w()(h,"components",{QDialog:d.Z,QCard:g.Z,QCardSection:f.Z,QInput:y.Z,QBtn:p.Z,QSpace:m.Z})}}]);